# Rotting Oranges

Level: Medium

[–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–¥–∞—á—É](https://leetcode.com/problems/rotting-oranges/)

## üß† –ó–∞–¥–∞—á–∞:

> –î–∞–Ω `m x n` –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ `grid`, –≥–¥–µ:
> - `0` ‚Äî –ø—É—Å—Ç–∞—è —è—á–µ–π–∫–∞
> - `1` ‚Äî —Å–≤–µ–∂–∏–π –∞–ø–µ–ª—å—Å–∏–Ω
> - `2` ‚Äî –≥–Ω–∏–ª–æ–π –∞–ø–µ–ª—å—Å–∏–Ω  
>
> –ö–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –≤—Å–µ —Å–≤–µ–∂–∏–µ –∞–ø–µ–ª—å—Å–∏–Ω—ã, **–Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –ø–æ —Å–æ—Å–µ–¥—Å—Ç–≤—É (–≤–≤–µ—Ä—Ö, –≤–Ω–∏–∑, –≤–ª–µ–≤–æ, –≤–ø—Ä–∞–≤–æ)** —Å –≥–Ω–∏–ª—ã–º–∏, —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≥–Ω–∏–ª—ã–º–∏.  
> –ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω—É—Ç –¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–∞–∫ **–≤—Å–µ** –∞–ø–µ–ª—å—Å–∏–Ω—ã —Å—Ç–∞–Ω—É—Ç –≥–Ω–∏–ª—ã–º–∏.  
> –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ ‚Äî –≤–µ—Ä–Ω—É—Ç—å `-1`.

---

## üìå –ò–¥–µ—è:

- BFS (–æ–±—Ö–æ–¥ –≤ —à–∏—Ä–∏–Ω—É) –æ—Ç –≤—Å–µ—Ö —Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö –≥–Ω–∏–ª—ã—Ö –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤
- –ú–æ–¥–µ–ª–∏—Ä—É–µ–º —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≥–Ω–∏–ª–∏ –ø–æ –º–∏–Ω—É—Ç–∞–º
- –°—á–∏—Ç–∞–µ–º —Å–≤–µ–∂–∏–µ –∞–ø–µ–ª—å—Å–∏–Ω—ã –∏ —É–º–µ–Ω—å—à–∞–µ–º –∏—Ö —á–∏—Å–ª–æ –ø—Ä–∏ –∑–∞—Ä–∞–∂–µ–Ω–∏–∏

---

## üìè –°—Ç—Ä—É–∫—Ç—É—Ä–∞:

- `queue [][]int` ‚Äî –æ—á–µ—Ä–µ–¥—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≥–Ω–∏–ª—ã—Ö –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤
- `fresh int` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ–∂–∏—Ö –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤
- `dirs [][]int` ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è (–≤–≤–µ—Ä—Ö, –≤–Ω–∏–∑, –≤–ª–µ–≤–æ, –≤–ø—Ä–∞–≤–æ)
- `minutes int` ‚Äî —Å—á—ë—Ç—á–∏–∫ –≤—Ä–µ–º–µ–Ω–∏

---

## üîÅ –®–∞–≥–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:

1. –ü—Ä–æ–π—Ç–∏ –ø–æ –≤—Å–µ–π —Å–µ—Ç–∫–µ:
   - –î–æ–±–∞–≤–∏—Ç—å –≤ `queue` –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Å–µ—Ö –≥–Ω–∏–ª—ã—Ö –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤
   - –ü–æ—Å—á–∏—Ç–∞—Ç—å –æ–±—â–µ–µ —á–∏—Å–ª–æ —Å–≤–µ–∂–∏—Ö
2. –ü–æ–∫–∞ `queue` –Ω–µ –ø—É—Å—Ç–∞ –∏ `fresh > 0`:
   - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–æ—è (—Ç–µ–∫—É—â–µ–π –º–∏–Ω—É—Ç—ã)
   - –ó–∞–º–µ–Ω–∏—Ç—å —Å–æ—Å–µ–¥–Ω–∏–µ —Å–≤–µ–∂–∏–µ –∞–ø–µ–ª—å—Å–∏–Ω—ã –Ω–∞ –≥–Ω–∏–ª—ã–µ, –¥–æ–±–∞–≤–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å, —É–º–µ–Ω—å—à–∏—Ç—å `fresh`
   - –£–≤–µ–ª–∏—á–∏—Ç—å `minutes`
3. –ï—Å–ª–∏ `fresh != 0` ‚Üí –≤–µ—Ä–Ω—É—Ç—å `-1`, –∏–Ω–∞—á–µ –≤–µ—Ä–Ω—É—Ç—å `minutes`

---

## ‚è±Ô∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å:

- –í—Ä–µ–º—è: O(m √ó n)
- –ü–∞–º—è—Ç—å: O(m √ó n)

---

## üìÑ –ü—Ä–∏–º–µ—Ä:

–í—Ö–æ–¥:
```go
grid := [][]int{
	{2, 1, 1},
	{1, 1, 0},
	{0, 1, 1},
}
```

–í—ã—Ö–æ–¥:
```go
4
```

---

## üìù –†–µ—à–µ–Ω–∏–µ:

```go
func orangesRotting(grid [][]int) int {
	queue := [][]int{}
	fresh := 0

	for i := 0; i < len(grid); i++ {
		for j := 0; j < len(grid[0]); j++ {
			if grid[i][j] == 2 {
				queue = append(queue, []int{i, j})
			} else if grid[i][j] == 1 {
				fresh++
			}
		}
	}

	dirs := [][]int{
		{0, 1},  {1, 0},
		{0, -1}, {-1, 0},
	}

	minutes := 0

	for len(queue) > 0 && fresh > 0 {
		size := len(queue)
		for i := 0; i < size; i++ {
			cell := queue[0]
			queue = queue[1:]

			for _, dir := range dirs {
				ni := cell[0] + dir[0]
				nj := cell[1] + dir[1]

				if ni >= 0 && ni < len(grid) && nj >= 0 && nj < len(grid[0]) && grid[ni][nj] == 1 {
					grid[ni][nj] = 2
					queue = append(queue, []int{ni, nj})
					fresh--
				}
			}
		}
		minutes++
	}

	if fresh != 0 {
		return -1
	}
	return minutes
}
```
